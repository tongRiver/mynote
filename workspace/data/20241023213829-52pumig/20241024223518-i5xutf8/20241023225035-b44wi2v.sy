{"ID":"20241023225035-b44wi2v","Spec":"1","Type":"NodeDocument","Properties":{"custom-sy-readonly":"false","id":"20241023225035-b44wi2v","title":"安装docker和Redis","type":"doc","updated":"20241102180034"},"Children":[{"ID":"20241023225036-ygz77js","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20241023225036-ygz77js","updated":"20241023225215"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"# ","Properties":{"id":""}},{"Type":"NodeText","Data":"安装docker和Redis"}]},{"ID":"20241023225037-til1euy","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20241023225037-til1euy","updated":"20241023225215"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"1.卸载旧版"}]},{"ID":"20241023225038-cdd68w8","Type":"NodeParagraph","Properties":{"id":"20241023225038-cdd68w8","updated":"20241023225038"},"Children":[{"Type":"NodeText","Data":"首先如果系统中已经存在旧的Docker，则先卸载："}]},{"ID":"20241023225039-dbyyrww","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241023225039-dbyyrww","updated":"20241023225215"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"yum remove docker \\\n    docker-client \\\n    docker-client-latest \\\n    docker-common \\\n    docker-latest \\\n    docker-latest-logrotate \\\n    docker-logrotate \\\n    docker-engine\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241023225040-os74b0q","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20241023225040-os74b0q","updated":"20241023225040"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"2.配置Docker的yum库"}]},{"ID":"20241023225041-472cq93","Type":"NodeParagraph","Properties":{"id":"20241023225041-472cq93","updated":"20241023225041"},"Children":[{"Type":"NodeText","Data":"首先要安装一个yum工具"}]},{"ID":"20241023225042-6ztkt2j","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"QmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241023225042-6ztkt2j","updated":"20241023225042"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"QmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"yum install -y yum-utils\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241023225043-mjdfeu7","Type":"NodeParagraph","Properties":{"id":"20241023225043-mjdfeu7","updated":"20241023225043"},"Children":[{"Type":"NodeText","Data":"安装成功后，执行命令，配置Docker的yum源："}]},{"ID":"20241023225044-5dzhgoy","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"QmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241023225044-5dzhgoy","updated":"20241023225044"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"QmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241023225045-uecqi25","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20241023225045-uecqi25","updated":"20241023225045"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"3.安装Docker"}]},{"ID":"20241023225046-xc22acg","Type":"NodeParagraph","Properties":{"id":"20241023225046-xc22acg","updated":"20241023225046"},"Children":[{"Type":"NodeText","Data":"最后，执行命令，安装Docker"}]},{"ID":"20241023225047-o374qmt","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"QmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241023225047-o374qmt","updated":"20241023225047"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"QmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"yum install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241023225048-5tmfi96","Type":"NodeParagraph","Properties":{"id":"20241023225048-5tmfi96","updated":"20241023225048"},"Children":[{"Type":"NodeText","Data":"检验是否安装成功"}]},{"ID":"20241023225049-myr52gg","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241023225049-myr52gg","updated":"20241023225049"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker -v\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241023225050-ztmvjsq","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20241023225050-ztmvjsq","updated":"20241023225050"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"4.启动和校验"}]},{"ID":"20241023225051-jaleoqs","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"QmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241023225051-jaleoqs","updated":"20241023225051"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"QmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"# 启动Docker\nsystemctl start docker\n\n# 停止Docker\nsystemctl stop docker\n\n# 重启\nsystemctl restart docker\n\n# 设置开机自启\nsystemctl enable docker\n\n# 执行docker ps命令，查看所有在运行的容器。-a是查看所有容器。如果不报错，说明安装启动成功\ndocker ps\ndocker ps -a\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241023225052-w4wjduv","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20241023225052-w4wjduv","updated":"20241023225052"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"# ","Properties":{"id":""}},{"Type":"NodeText","Data":"安装Redis"}]},{"ID":"20241023225053-a32agzs","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20241023225053-a32agzs","updated":"20241023225053"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"参考"}]},{"ID":"20241023225054-s3znmf9","Type":"NodeParagraph","Properties":{"id":"20241023225054-s3znmf9","updated":"20241023225054"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://www.bilibili.com/video/BV1np4y1C7Yf?p=11\u0026vd_source=8a230e3eb3e99863373e7c6b51f126b6","TextMarkTextContent":"B站 谷粒商城 docker配置Redis"}]},{"ID":"20241023225055-p0q0zqw","Type":"NodeParagraph","Properties":{"id":"20241023225055-p0q0zqw","updated":"20241023225055"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://blog.csdn.net/qq_40991313/article/details/126979275?spm=1001.2014.3001.5501","TextMarkTextContent":"谷粒商城笔记+踩坑（1）——架构、项目环境搭建、代码生成器_程序员小海绵【vincewm】的博客-CSDN博客"}]},{"ID":"20241023225056-w5kpu16","Type":"NodeParagraph","Properties":{"id":"20241023225056-w5kpu16","updated":"20241023225056"},"Children":[{"Type":"NodeText","Data":"看看这个："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://zhuanlan.zhihu.com/p/546202190","TextMarkTextContent":"史上最详细Docker安装Redis （含每一步的图解）实战 - 知乎 (zhihu.com)"}]},{"ID":"20241023225057-2xevxi5","Type":"NodeParagraph","Properties":{"id":"20241023225057-2xevxi5","updated":"20241023225057"},"Children":[{"Type":"NodeText","Data":"这个也还可以："},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://blog.csdn.net/weixin_45821811/article/details/116211724","TextMarkTextContent":"史上最详细Docker安装Redis （含每一步的图解）实战_docker redis_宁在春的博客-CSDN博客"}]},{"ID":"20241023225058-cpmjyhv","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20241023225058-cpmjyhv","updated":"20241102180034"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Redis安装和卸载"}]},{"ID":"20241023225059-10tcr20","Type":"NodeParagraph","Properties":{"id":"20241023225059-10tcr20","updated":"20241023225059"},"Children":[{"Type":"NodeText","Data":"拉取镜像"}]},{"ID":"20241023225060-qx8fi9q","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241023225060-qx8fi9q","updated":"20241023225060"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker pull redis\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241023225061-u9d60us","Type":"NodeParagraph","Properties":{"id":"20241023225061-u9d60us","updated":"20241023225061"},"Children":[{"Type":"NodeText","Data":"接下来就是要将redis 的配置文件进行挂载，以配置文件方式启动redis 容器。（挂载：即将宿主的文件和容器内部目录相关联，相互绑定，在宿主机内修改文件的话也随之修改容器内部文件）"}]},{"ID":"20241023225062-oogdh7s","Type":"NodeParagraph","Properties":{"id":"20241023225062-oogdh7s","updated":"20241023225062"},"Children":[{"Type":"NodeText","Data":"1）挂载redis的配置文件"}]},{"ID":"20241023225063-jwmhcpe","Type":"NodeParagraph","Properties":{"id":"20241023225063-jwmhcpe","updated":"20241023225063"},"Children":[{"Type":"NodeText","Data":"2）挂载redis 的持久化文件（为了数据的持久化）。"}]},{"ID":"20241023225064-k8iascv","Type":"NodeParagraph","Properties":{"id":"20241023225064-k8iascv","updated":"20241023225064"},"Children":[{"Type":"NodeText","Data":"本人的配置文件是放在"}]},{"ID":"20241023225065-qw65gp0","Type":"NodeParagraph","Properties":{"id":"20241023225065-qw65gp0","updated":"20241023225065"},"Children":[{"Type":"NodeText","Data":"根目录下redis.conf文件位置：/mydata/redis/myredis1/redis.conf"}]},{"ID":"20241023225066-37019ee","Type":"NodeParagraph","Properties":{"id":"20241023225066-37019ee","updated":"20241023225066"},"Children":[{"Type":"NodeText","Data":"根目录下redis的data文件位置 ：/mydata/redis/myredis1/data"}]},{"ID":"20241023225067-c7p8iv5","Type":"NodeParagraph","Properties":{"id":"20241023225067-c7p8iv5","updated":"20241023225067"},"Children":[{"Type":"NodeText","Data":"位置可以自己随便选择哈"}]},{"ID":"20241023225068-d3njese","Type":"NodeParagraph","Properties":{"id":"20241023225068-d3njese","updated":"20241023225068"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"style":"width: 962px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image-20231015011659020"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20231015011659020-20241023225151-utdtrhu.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 962px;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20241023225069-0f5o3bi","Type":"NodeParagraph","Properties":{"id":"20241023225069-0f5o3bi","updated":"20241023225069"},"Children":[{"Type":"NodeText","Data":"如果直接挂载的话docker会以为挂载的是一个目录，所以我们先创建一个文件然后再挂载，在虚拟机中创建挂载的目录"}]},{"ID":"20241023225070-s9nqjri","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241023225070-s9nqjri","updated":"20241023225070"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"mkdir -p /mydata/redis/myredis1/\ntouch /mydata/redis/myredis1/redis.conf\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241023225071-mqgm3rg","Type":"NodeParagraph","Properties":{"id":"20241023225071-mqgm3rg","updated":"20241023225071"},"Children":[{"Type":"NodeText","Data":"启动容器"}]},{"ID":"20241023225072-3052af1","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241023225072-3052af1","updated":"20241023225072"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker run --restart=always -p 6379:6379 --name myredis1 \\\n-v /mydata/redis/myredis1/redis.conf:/etc/redis/redis.conf \\\n-v /mydata/redis/myredis1/data:/data \\\n-d redis redis-server /etc/redis/redis.conf \\\n--appendonly yes\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241023225075-fpieboy","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241023225075-fpieboy","updated":"20241102180034"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"docker run --restart=always -p 6379:6379 --name myredis1 \\\n-v /root/mydata/redis/redis_study/redis.conf:/etc/redis/redis.conf \\\n-v /root/mydata/redis/redis_study/data:/data \\\n-d redis redis-server /etc/redis/redis.conf \\\n--appendonly yes \\\n--requirepass redispengyumingxrpsy2333@\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241023225073-4zukwi9","Type":"NodeList","ListData":{},"Properties":{"id":"20241023225073-4zukwi9","updated":"20241023225073"},"Children":[{"ID":"20241102172632-oxzwqwu","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20241102172632-oxzwqwu","updated":"20241102172632"},"Children":[{"ID":"20241102172632-3zm4blu","Type":"NodeParagraph","Properties":{"id":"20241102172632-3zm4blu","updated":"20241102172632"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"--restart=always"},{"Type":"NodeText","Data":"​ 总是开机启动"}]}]},{"ID":"20241023225076-6pog5xt","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20241023225076-6pog5xt","updated":"20241023225076"},"Children":[{"ID":"20241023225077-dl6a3io","Type":"NodeParagraph","Properties":{"id":"20241023225077-dl6a3io","updated":"20241023225077"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"-p 6379:6379"},{"Type":"NodeText","Data":"​ 将6379端口挂载出去"}]}]},{"ID":"20241023225078-pwe8lez","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20241023225078-pwe8lez","updated":"20241023225078"},"Children":[{"ID":"20241023225079-y82xa1s","Type":"NodeParagraph","Properties":{"id":"20241023225079-y82xa1s","updated":"20241023225079"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"--name"},{"Type":"NodeText","Data":"​ 给这个容器取一个名字"}]}]},{"ID":"20241023225080-m2sbcv2","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20241023225080-m2sbcv2","updated":"20241023225080"},"Children":[{"ID":"20241023225081-puicqew","Type":"NodeParagraph","Properties":{"id":"20241023225081-puicqew","updated":"20241023225081"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"-v"},{"Type":"NodeText","Data":"​ 数据卷挂载"}]}]},{"ID":"20241023225082-fmor9yk","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20241023225082-fmor9yk","updated":"20241023225082"},"Children":[{"ID":"20241023225083-6b2juu6","Type":"NodeParagraph","Properties":{"id":"20241023225083-6b2juu6","updated":"20241023225083"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"-d redis"},{"Type":"NodeText","Data":"​ 表示后台启动redis，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"redis-server /etc/redis/redis.conf"},{"Type":"NodeText","Data":"​ 以配置文件启动redis，加载容器内的conf文件，最终找到的是挂载的目录 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/etc/redis/redis.conf"},{"Type":"NodeText","Data":"​ 也就是linux下的"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/mydata/redis/myredis1/redis.conf"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20241023225084-y2edh2l","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20241023225084-y2edh2l","updated":"20241023225084"},"Children":[{"ID":"20241023225085-l94haiu","Type":"NodeParagraph","Properties":{"id":"20241023225085-l94haiu","updated":"20241023225085"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"--appendonly yes"},{"Type":"NodeText","Data":"​ 开启redis 持久化"}]}]},{"ID":"20241023225086-ob7i5ru","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20241023225086-ob7i5ru","updated":"20241023225086"},"Children":[{"ID":"20241023225087-3163gz0","Type":"NodeParagraph","Properties":{"id":"20241023225087-3163gz0","updated":"20241023225087"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"--requirepass 000415"},{"Type":"NodeText","Data":"​ 设置密码 （如果你是通过docker 容器内部连接的话，就随意，可设可不设。但是如果想向外开放的话，一定要设置，我被搞过）"}]}]}]},{"ID":"20241023225088-4rygnkn","Type":"NodeParagraph","Properties":{"id":"20241023225088-4rygnkn","updated":"20241023225088"},"Children":[{"Type":"NodeText","Data":"查看运行状态"}]},{"ID":"20241023225089-rzn630u","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241023225089-rzn630u","updated":"20241023225089"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@bogon ~]# docker run -p 6379:6379 --name myredis1 \\\n\u003e -v /mydata/redis/myredis1/myredis1.conf:/etc/redis/redis.conf \\\n\u003e -v /mydata/redis/myredis1/data:/data \\\n\u003e -d redis redis-server /etc/redis/redis.conf \\\n\u003e --appendonly yes\n43261543ddfc491d25fd316aa706c03e12473b66c57e4e34e56670de08455f6b\n[root@bogon ~]# docker images\nREPOSITORY   TAG       IMAGE ID       CREATED       SIZE\nredis        latest    5b0542ad1e77   5 weeks ago   138MB\n[root@bogon ~]# docker ps\nCONTAINER ID   IMAGE     COMMAND                  CREATED              STATUS              PORTS                                       NAMES\n43261543ddfc   redis     \"docker-entrypoint.s…\"   About a minute ago   Up About a minute   0.0.0.0:6379-\u003e6379/tcp, :::6379-\u003e6379/tcp   myredis1\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241023225090-kz7ml00","Type":"NodeParagraph","Properties":{"id":"20241023225090-kz7ml00","updated":"20241023225090"},"Children":[{"Type":"NodeText","Data":"进入Redis客户端"}]},{"ID":"20241023225091-7uh3u4v","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241023225091-7uh3u4v","updated":"20241023225091"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker exec -it myredis1 redis-cli\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241023225092-o24i84l","Type":"NodeParagraph","Properties":{"id":"20241023225092-o24i84l","updated":"20241023225092"},"Children":[{"Type":"NodeText","Data":"退出"}]},{"ID":"20241023225093-qozlpkp","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241023225093-qozlpkp","updated":"20241023225093"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@bogon ~]# docker exec -it myredis1 redis-cli\n127.0.0.1:6379\u003e set aaa bbb\nOK\n127.0.0.1:6379\u003e get aaa\n\"bbb\"\n127.0.0.1:6379\u003e docker restart myredis1\n(error) ERR unknown command 'docker', with args beginning with: 'restart' 'myredis1'\n127.0.0.1:6379\u003e exit\n[root@bogon ~]#\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241023225094-rtvx44y","Type":"NodeParagraph","Properties":{"id":"20241023225094-rtvx44y","updated":"20241023225094"},"Children":[{"Type":"NodeText","Data":"重启docker中的Redis"}]},{"ID":"20241023225095-hturnei","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241023225095-hturnei","updated":"20241023225095"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"docker restart myredis1\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241023225096-jwt3dkp","Type":"NodeParagraph","Properties":{"id":"20241023225096-jwt3dkp","updated":"20241023225096"},"Children":[{"Type":"NodeText","Data":"启动已经关闭的容器"}]},{"ID":"20241023225097-yptm0sz","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241023225097-yptm0sz","updated":"20241023225097"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@bogon ~]# docker exec -it myredis1 redis-cli\nError response from daemon: Container dc2e08c93456bc625c52ec8d19d9a61e3f8115ef841728911026ed5dcfbd2662 is not running\n[root@bogon ~]# docker start myredis1\nmyredis1\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241023225098-t7mu5vx","Type":"NodeParagraph","Properties":{"id":"20241023225098-t7mu5vx","updated":"20241023225098"},"Children":[{"Type":"NodeText","Data":"删除Redis"}]},{"ID":"20241023225099-igm5mim","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241023225099-igm5mim","updated":"20241023225099"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[root@bogon ~]# docker ps -a\nCONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS                                       NAMES\n43261543ddfc   redis     \"docker-entrypoint.s…\"   37 minutes ago   Up 28 minutes   0.0.0.0:6379-\u003e6379/tcp, :::6379-\u003e6379/tcp   myredis1\n[root@bogon ~]# docker stop myredis1\nmyredis1\n[root@bogon ~]# docker rm myredis1\nmyredis1\n[root@bogon ~]# docker ps\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241023225100-x0gn58r","Type":"NodeParagraph","Properties":{"id":"20241023225100-x0gn58r","updated":"20241023225100"},"Children":[{"Type":"NodeText","Data":"删除挂载的文件"}]},{"ID":"20241023225101-v06g4y7","Type":"NodeParagraph","Properties":{"id":"20241023225101-v06g4y7","updated":"20241023225101"},"Children":[{"Type":"NodeText","Data":"可以在ssh客户端的左边直接删除文件夹"}]},{"ID":"20241023225102-dfhuekp","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20241023225102-dfhuekp","updated":"20241024130704"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"可视化工具"}]},{"ID":"20241023225103-ze669qq","Type":"NodeParagraph","Properties":{"id":"20241023225103-ze669qq","updated":"20241023225103"},"Children":[{"Type":"NodeText","Data":"连接虚拟机中的docker中的Redis"}]},{"ID":"20241023225104-x0wgzvr","Type":"NodeParagraph","Properties":{"id":"20241023225104-x0wgzvr","updated":"20241023225104"},"Children":[{"Type":"NodeText","Data":"刚刚在配置的时候，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"docker run -p 6379:6379"},{"Type":"NodeText","Data":"会将docker容器内的6379端口映射到宿主机的6379端口，下面需要填的是宿主机的端口。填好之后可以测试连接。"}]},{"ID":"20241023225105-0w1pst3","Type":"NodeParagraph","Properties":{"id":"20241023225105-0w1pst3","updated":"20241023225105"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image-20231015003747895","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20231015003747895-20241023225151-3nm3x5y.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20241023225106-e1aal67","Type":"NodeParagraph","Properties":{"id":"20241023225106-e1aal67","updated":"20241023225106"},"Children":[{"Type":"NodeText","Data":"连接成功："}]},{"ID":"20241023225107-tryd22d","Type":"NodeParagraph","Properties":{"id":"20241023225107-tryd22d","updated":"20241023225107"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image-20231015004052938","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20231015004052938-20241023225151-u0v9l90.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20241023225108-g5d2dxh","Type":"NodeParagraph","Properties":{"id":"20241023225108-g5d2dxh","updated":"20241023225108"},"Children":[{"Type":"NodeText","Data":"Redis默认有16个仓库，编号从0至15.  通过配置文件可以设置仓库数量，但是不超过16，并且不能自定义仓库名称。"}]},{"ID":"20241023225109-vw4f6uw","Type":"NodeParagraph","Properties":{"id":"20241023225109-vw4f6uw","updated":"20241023225109"},"Children":[{"Type":"NodeText","Data":"如果是基于redis-cli连接Redis服务，可以通过select命令来选择数据库："}]},{"ID":"20241023225110-06w80ng","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c2g=","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241023225110-06w80ng","updated":"20241023225110"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2g=","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"# 选择 0号库\nselect 0\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241024130704-n15bnwx","Type":"NodeParagraph","Properties":{"id":"20241024130704-n15bnwx","updated":"20241024130704"}}]}