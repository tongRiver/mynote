{"ID":"20241024131332-53u7ptu","Spec":"1","Type":"NodeDocument","Properties":{"custom-sy-readonly":"false","id":"20241024131332-53u7ptu","title":"Docker部署-MySQL","type":"doc","updated":"20241030135747"},"Children":[{"ID":"20241024131333-oacbblr","Type":"NodeParagraph","Properties":{"id":"20241024131333-oacbblr","updated":"20241024131333"},"Children":[{"Type":"NodeText","Data":"参考视频："}]},{"ID":"20241024131334-uu9a6go","Type":"NodeParagraph","Properties":{"id":"20241024131334-uu9a6go","updated":"20241024131334"},"Children":[{"Type":"NodeText","Data":"创建挂载目录："}]},{"ID":"20241024131335-g9sa0gq","Type":"NodeParagraph","Properties":{"id":"20241024131335-g9sa0gq","updated":"20241024131335"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image-20231223151948536","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20231223151948536-20241024131403-qv9tblv.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20241024131336-akbrmrt","Type":"NodeParagraph","Properties":{"id":"20241024131336-akbrmrt","updated":"20241024131336"},"Children":[{"Type":"NodeText","Data":"在conf文件夹里放入配置文件"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"hm.cnf"},{"Type":"NodeText","Data":"："}]},{"ID":"20241024131337-33n3cf4","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"Y25m","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241024131337-33n3cf4","updated":"20241024131337"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Y25m","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[client]\ndefault_character_set=utf8mb4\n[mysql]\ndefault_character_set=utf8mb4\n[mysqld]\ncharacter_set_server=utf8mb4\ncollation_server=utf8mb4_unicode_ci\ninit_connect='SET NAMES utf8mb4'\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241024131338-n9t0y8f","Type":"NodeParagraph","Properties":{"id":"20241024131338-n9t0y8f","updated":"20241024131338"},"Children":[{"Type":"NodeText","Data":"创建MySQL容器："}]},{"ID":"20241024131339-bllpu83","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241024131339-bllpu83","updated":"20241024131339"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"# 创建并运行新mysql容器，挂载本地目录\ndocker run -d \\\n  --name mysql \\\n  -p 3306:3306 \\\n  -e TZ=Asia/Shanghai \\\n  -e MYSQL_ROOT_PASSWORD=pengyumingxrpsy2003 \\\n  -v /root/mydata/mysql/data:/var/lib/mysql \\\n  -v /root/mydata/mysql/conf:/etc/mysql/conf.d \\\n  -v /root/mydata/mysql/init:/docker-entrypoint-initdb.d \\\n  mysql:5.7\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241024131340-zcbyo4v","Type":"NodeParagraph","Properties":{"id":"20241024131340-zcbyo4v","updated":"20241024131340"},"Children":[{"Type":"NodeText","Data":"进入容器："}]},{"ID":"20241024131341-xcvhuo6","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241024131341-xcvhuo6","updated":"20241024131341"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"root@hcss-ecs-32de:~# docker ps\nCONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS                                                   NAMES\n23bc0a6f4c56   mysql     \"docker-entrypoint.s…\"   16 minutes ago   Up 16 minutes   0.0.0.0:3306-\u003e3306/tcp, :::3306-\u003e3306/tcp, 33060/tcp    mysql\n809173981dfc   nginx     \"/docker-entrypoint.…\"   6 weeks ago      Up 6 weeks      80/tcp, 0.0.0.0:18080-\u003e18080/tcp, :::18080-\u003e18080/tcp   nginx1\nroot@hcss-ecs-32de:~# docker exec -it mysql bash\nbash-4.4# mysql\nERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241024131342-qdmhf33","Type":"NodeParagraph","Properties":{"id":"20241024131342-qdmhf33","updated":"20241024131342"},"Children":[{"Type":"NodeText","Data":"报错是因为没有提供密码，所以要这样："}]},{"ID":"20241024131343-48ulnwc","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241024131343-48ulnwc","updated":"20241024131343"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"bash-4.4# mysql -u root -p\nEnter password:\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 16\nServer version: 8.2.0 MySQL Community Server - GPL\n\nCopyright (c) 2000, 2023, Oracle and/or its affiliates.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql\u003e\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241024131344-imuy3y5","Type":"NodeParagraph","Properties":{"id":"20241024131344-imuy3y5","updated":"20241024131344"},"Children":[{"Type":"NodeText","Data":"开始的时候一直连不上："}]},{"ID":"20241024131345-lm0ujuq","Type":"NodeParagraph","Properties":{"id":"20241024131345-lm0ujuq","updated":"20241024131345"},"Children":[{"Type":"NodeText","Data":"问题："}]},{"ID":"20241024131346-tp3iqoh","Type":"NodeParagraph","Properties":{"id":"20241024131346-tp3iqoh","updated":"20241024131346"},"Children":[{"Type":"NodeText","Data":"["},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://bbs.huaweicloud.com/blogs/detail/149668","TextMarkTextContent":"华为云服务器]远程连接数据库出现连接拒绝的解决办法-云社区-华为云 (huaweicloud.com)"}]},{"ID":"20241024131347-71xhxz3","Type":"NodeParagraph","Properties":{"id":"20241024131347-71xhxz3","updated":"20241024131347"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://www.cnblogs.com/rychh/p/13878094.html","TextMarkTextContent":"Mysql_新建连接报错：Client does not support authentication protocol requested by server ;consider upgrading Mysql client - 翻滚的小强 - 博客园 (cnblogs.com)"}]},{"ID":"20241024131348-gyiyaj3","Type":"NodeParagraph","Properties":{"id":"20241024131348-gyiyaj3","updated":"20241024131348"},"Children":[{"Type":"NodeText","Data":"修改"}]},{"ID":"20241024131349-6q5qqr6","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241024131349-6q5qqr6","updated":"20241024131349"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"alter user 'root'@'localhost' IDENTIFIED BY 'pengyumingxrpsy2003' PASSWORD EXPIRE NEVER;\nalter user 'root'@'localhost' identified with mysql_native_password by 'pengyumingxrpsy2003';\nflush privileges;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241024131350-2bxjkjk","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241024131350-2bxjkjk","updated":"20241024131350"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"use mysql;\ngrant all privileges on *.* to root@'%' identified by 'pengyumingxrpsy2003';\nflush privileges;\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241024131351-hn0fbx2","Type":"NodeParagraph","Properties":{"id":"20241024131351-hn0fbx2","updated":"20241024131351"},"Children":[{"Type":"NodeText","Data":"后面都不行，然后换了低版本"}]},{"ID":"20241024131352-edmrzyo","Type":"NodeParagraph","Properties":{"id":"20241024131352-edmrzyo","updated":"20241024131352"},"Children":[{"Type":"NodeText","Data":"然后可以用Navicat连接了"}]},{"ID":"20241029235946-k1yz93y","Type":"NodeBlockquote","Properties":{"id":"20241029235946-k1yz93y","updated":"20241030000026"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20241030000014-3v0jvjz","Type":"NodeParagraph","Properties":{"id":"20241030000014-3v0jvjz","updated":"20241030000014"},"Children":[{"Type":"NodeText","Data":"新建连接："}]},{"ID":"20241030000026-okuvyzm","Type":"NodeParagraph","Properties":{"id":"20241030000026-okuvyzm","updated":"20241030000026"},"Children":[{"Type":"NodeText","Data":"接下来用navcat连一下看看"}]},{"ID":"20241030000026-l3kune0","Type":"NodeParagraph","Properties":{"id":"20241030000026-l3kune0","updated":"20241030000026"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241029235659-gn4n4ak.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20241030000026-jlz1x6r","Type":"NodeParagraph","Properties":{"id":"20241030000026-jlz1x6r","updated":"20241030000026"},"Children":[{"Type":"NodeText","Data":"可以了"}]},{"ID":"20241030000026-68rozt1","Type":"NodeParagraph","Properties":{"id":"20241030000026-68rozt1","updated":"20241030000026"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241029235732-3nzisg0.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20241024131353-87y9z5w","Type":"NodeParagraph","Properties":{"id":"20241024131353-87y9z5w","updated":"20241024131353"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://blog.csdn.net/qq_21808961/article/details/80899928","TextMarkTextContent":"Navicat 导出导入数据库_navicat怎么导出数据库-CSDN博客"}]},{"ID":"20241024131354-5k0fbq1","Type":"NodeParagraph","Properties":{"id":"20241024131354-5k0fbq1","updated":"20241024131354"},"Children":[{"Type":"NodeText","Data":"新建数据库："}]},{"ID":"20241024131355-y4xc9a4","Type":"NodeParagraph","Properties":{"id":"20241024131355-y4xc9a4","updated":"20241024131355"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image-20231223163332792","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20231223163332792-20241024131403-8peykkh.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20241024131356-mrdvoih","Type":"NodeParagraph","Properties":{"id":"20241024131356-mrdvoih","updated":"20241024131356"},"Children":[{"Type":"NodeText","Data":"用生成的sql文件导入表"}]},{"ID":"20241024131357-6l06rvs","Type":"NodeParagraph","Properties":{"id":"20241024131357-6l06rvs","updated":"20241024131357"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image-20231223163506843","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20231223163506843-20241024131403-nahtdgr.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20241024131358-xwxzdlc","Type":"NodeParagraph","Properties":{"id":"20241024131358-xwxzdlc","updated":"20241024131358"},"Children":[{"Type":"NodeText","Data":"我创建了一个查询，然后把sql都粘进去了"}]},{"ID":"20241024131359-of5ezcv","Type":"NodeParagraph","Properties":{"id":"20241024131359-of5ezcv","updated":"20241024131359"},"Children":[{"Type":"NodeText","Data":"报错了："}]},{"ID":"20241024131360-wn795m7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241024131360-wn795m7","linewrap":"true","updated":"20241024131360"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"[Err] 1055 - Expression #1 of ORDER BY clause is not in GROUP BY clause and contains nonaggregated column 'information_schema.PROFILING.SEQ' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241024131361-1mmpfmq","Type":"NodeParagraph","Properties":{"id":"20241024131361-1mmpfmq","updated":"20241024131361"},"Children":[{"Type":"NodeImage","Properties":{"id":""},"Children":[{"Type":"NodeBang","Data":"!","Properties":{"id":""}},{"Type":"NodeOpenBracket","Data":"[","Properties":{"id":""}},{"Type":"NodeLinkText","Data":"image-20231223163915292","Properties":{"id":""}},{"Type":"NodeCloseBracket","Data":"]","Properties":{"id":""}},{"Type":"NodeOpenParen","Data":"(","Properties":{"id":""}},{"Type":"NodeLinkDest","Data":"assets/image-20231223163915292-20241024131403-gzq7bp8.png","Properties":{"id":""}},{"Type":"NodeCloseParen","Data":")","Properties":{"id":""}}]}]},{"ID":"20241024131362-rckcayj","Type":"NodeParagraph","Properties":{"id":"20241024131362-rckcayj","updated":"20241024131362"},"Children":[{"Type":"NodeText","Data":"表好像都没问题，后端连上去也没事，就没管了。"}]}]}