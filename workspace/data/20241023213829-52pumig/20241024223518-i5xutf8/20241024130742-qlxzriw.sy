{"ID":"20241024130742-qlxzriw","Spec":"1","Type":"NodeDocument","Properties":{"custom-sy-readonly":"true","id":"20241024130742-qlxzriw","title":"华为云服务器安装docker","type":"doc","updated":"20241024130855"},"Children":[{"ID":"20241024130743-kupi8q3","Type":"NodeParagraph","Properties":{"id":"20241024130743-kupi8q3","updated":"20241024130743"},"Children":[{"Type":"NodeText","Data":"控制台："}]},{"ID":"20241024130744-bf1m5xt","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241024130744-bf1m5xt","updated":"20241024130855"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"root@1.94.39.131's password:\nAccess denied\nroot@1.94.39.131's password:\nWelcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.4.0-153-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com\n * Management:     https://landscape.canonical.com\n * Support:        https://ubuntu.com/advantage\n\n  System information as of Mon 30 Oct 2023 11:13:41 PM CST\n\n\n\n        Welcome to Huawei Cloud Service\n\n/usr/bin/xauth:  file /root/.Xauthority does not exist\nroot@hcss-ecs-32de:~# ls\nroot@hcss-ecs-32de:~# pwd\n/root\nroot@hcss-ecs-32de:~# ifconfig\neth0: flags=4163\u003cUP,BROADCAST,RUNNING,MULTICAST\u003e  mtu 1500\n        inet 192.168.0.72  netmask 255.255.255.0  broadcast 192.168.0.255\n        inet6 fe80::f816:3eff:fe11:69b1  prefixlen 64  scopeid 0x20\u003clink\u003e\n        ether fa:16:3e:11:69:b1  txqueuelen 1000  (Ethernet)\n        RX packets 452  bytes 124902 (124.9 KB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 564  bytes 204694 (204.6 KB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nlo: flags=73\u003cUP,LOOPBACK,RUNNING\u003e  mtu 65536\n        inet 127.0.0.1  netmask 255.0.0.0\n        inet6 ::1  prefixlen 128  scopeid 0x10\u003chost\u003e\n        loop  txqueuelen 1000  (Local Loopback)\n        RX packets 120  bytes 10512 (10.5 KB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 120  bytes 10512 (10.5 KB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nroot@hcss-ecs-32de:~# pwd\n/root\nroot@hcss-ecs-32de:~# cat hello.txt\ncat: hello.txt: No such file or directory\nroot@hcss-ecs-32de:~# touch hello.txt\nroot@hcss-ecs-32de:~# ls\nhello.txt\nroot@hcss-ecs-32de:~# cat hello.txt\nroot@hcss-ecs-32de:~# vim hello.txt\nroot@hcss-ecs-32de:~# cat hello.txt\n\nimport numpy as np\n\ndef main():\n    print(\"hello world!\")\n\n\nroot@hcss-ecs-32de:~# docker -v\n\nCommand 'docker' not found, but can be installed with:\n\nsnap install docker     # version 20.10.24, or\nsnap install docker     # version 20.10.24\napt  install docker.io  # version 20.10.21-0ubuntu1~20.04.2\n\nSee 'snap info \u003csnapname\u003e' for additional versions.\n\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~# sudo apt update\nHit:1 http://repo.huaweicloud.com/ubuntu focal InRelease\nGet:2 http://repo.huaweicloud.com/ubuntu focal-updates InRelease [114 kB]\nGet:3 http://repo.huaweicloud.com/ubuntu focal-backports InRelease [108 kB]\nGet:4 http://repo.huaweicloud.com/ubuntu focal-security InRelease [114 kB]\nGet:5 http://repo.huaweicloud.com/ubuntu focal-updates/main amd64 Packages [2,8                                                                                              88 kB]\nGet:6 http://repo.huaweicloud.com/ubuntu focal-updates/main i386 Packages [893                                                                                               kB]\nGet:7 http://repo.huaweicloud.com/ubuntu focal-updates/main Translation-en [473                                                                                               kB]\nGet:8 http://repo.huaweicloud.com/ubuntu focal-updates/main amd64 c-n-f Metadat                                                                                              a [17.1 kB]\nGet:9 http://repo.huaweicloud.com/ubuntu focal-updates/restricted i386 Packages                                                                                               [34.6 kB]\nGet:10 http://repo.huaweicloud.com/ubuntu focal-updates/restricted amd64 Packag                                                                                              es [2,383 kB]\nGet:11 http://repo.huaweicloud.com/ubuntu focal-updates/restricted Translation-                                                                                              en [334 kB]\nGet:12 http://repo.huaweicloud.com/ubuntu focal-updates/restricted amd64 c-n-f                                                                                               Metadata [572 B]\nGet:13 http://repo.huaweicloud.com/ubuntu focal-updates/universe i386 Packages                                                                                               [750 kB]\nGet:14 http://repo.huaweicloud.com/ubuntu focal-updates/universe amd64 Packages                                                                                               [1,123 kB]\nGet:15 http://repo.huaweicloud.com/ubuntu focal-updates/universe Translation-en                                                                                               [268 kB]\nGet:16 http://repo.huaweicloud.com/ubuntu focal-updates/universe amd64 c-n-f Me                                                                                              tadata [25.6 kB]\nGet:17 http://repo.huaweicloud.com/ubuntu focal-updates/multiverse amd64 Packag                                                                                              es [25.8 kB]\nGet:18 http://repo.huaweicloud.com/ubuntu focal-updates/multiverse Translation-                                                                                              en [7,484 B]\nGet:19 http://repo.huaweicloud.com/ubuntu focal-updates/multiverse amd64 c-n-f                                                                                               Metadata [620 B]\nGet:20 http://repo.huaweicloud.com/ubuntu focal-security/main amd64 Packages [2                                                                                              ,500 kB]\nGet:21 http://repo.huaweicloud.com/ubuntu focal-security/main i386 Packages [66                                                                                              0 kB]\nGet:22 http://repo.huaweicloud.com/ubuntu focal-security/main Translation-en [3                                                                                              90 kB]\nGet:23 http://repo.huaweicloud.com/ubuntu focal-security/main amd64 c-n-f Metad                                                                                              ata [13.2 kB]\nGet:24 http://repo.huaweicloud.com/ubuntu focal-security/restricted i386 Packag                                                                                              es [33.3 kB]\nGet:25 http://repo.huaweicloud.com/ubuntu focal-security/restricted amd64 Packa                                                                                              ges [2,267 kB]\nGet:26 http://repo.huaweicloud.com/ubuntu focal-security/restricted Translation                                                                                              -en [317 kB]\nGet:27 http://repo.huaweicloud.com/ubuntu focal-security/restricted amd64 c-n-f                                                                                               Metadata [572 B]\nGet:28 http://repo.huaweicloud.com/ubuntu focal-security/universe amd64 Package                                                                                              s [891 kB]\nGet:29 http://repo.huaweicloud.com/ubuntu focal-security/universe i386 Packages                                                                                               [617 kB]\nGet:30 http://repo.huaweicloud.com/ubuntu focal-security/universe Translation-e                                                                                              n [186 kB]\nGet:31 http://repo.huaweicloud.com/ubuntu focal-security/universe amd64 c-n-f M                                                                                              etadata [19.2 kB]\nGet:32 http://repo.huaweicloud.com/ubuntu focal-security/multiverse amd64 Packa                                                                                              ges [23.6 kB]\nGet:33 http://repo.huaweicloud.com/ubuntu focal-security/multiverse amd64 c-n-f                                                                                               Metadata [548 B]\nFetched 17.5 MB in 9s (1,962 kB/s)\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\n60 packages can be upgraded. Run 'apt list --upgradable' to see them.\n\n\nroot@hcss-ecs-32de:~# sudo apt install apt-transport-https ca-certificates curl gnupg-agent software-properties-co                                                           mmon\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\nca-certificates is already the newest version (20230311ubuntu0.20.04.1).\nThe following additional packages will be installed:\n  libcurl4 python3-software-properties\nThe following NEW packages will be installed:\n  apt-transport-https gnupg-agent\nThe following packages will be upgraded:\n  curl libcurl4 python3-software-properties software-properties-common\n4 upgraded, 2 newly installed, 0 to remove and 56 not upgraded.\nNeed to get 436 kB of archives.\nAfter this operation, 208 kB of additional disk space will be used.\nDo you want to continue? [Y/n] y\nGet:1 http://repo.huaweicloud.com/ubuntu focal-updates/universe amd64 apt-transport-https all 2.0.9 [1,704 B]\nGet:2 http://repo.huaweicloud.com/ubuntu focal-updates/main amd64 curl amd64 7.68.0-1ubuntu2.20 [161 kB]\nGet:3 http://repo.huaweicloud.com/ubuntu focal-updates/main amd64 libcurl4 amd64 7.68.0-1ubuntu2.20 [235 kB]\nGet:4 http://repo.huaweicloud.com/ubuntu focal-updates/universe amd64 gnupg-agent all 2.2.19-3ubuntu2.2 [5,240 B]\nGet:5 http://repo.huaweicloud.com/ubuntu focal-updates/main amd64 software-properties-common all 0.99.9.12 [10.4 k                                                           B]\nGet:6 http://repo.huaweicloud.com/ubuntu focal-updates/main amd64 python3-software-properties all 0.99.9.12 [21.7                                                            kB]\nFetched 436 kB in 0s (3,964 kB/s)\nSelecting previously unselected package apt-transport-https.\n(Reading database ... 116636 files and directories currently installed.)\nPreparing to unpack .../0-apt-transport-https_2.0.9_all.deb ...\nUnpacking apt-transport-https (2.0.9) ...\nPreparing to unpack .../1-curl_7.68.0-1ubuntu2.20_amd64.deb ...\nUnpacking curl (7.68.0-1ubuntu2.20) over (7.68.0-1ubuntu2.18) ...\nPreparing to unpack .../2-libcurl4_7.68.0-1ubuntu2.20_amd64.deb ...\nUnpacking libcurl4:amd64 (7.68.0-1ubuntu2.20) over (7.68.0-1ubuntu2.18) ...\nSelecting previously unselected package gnupg-agent.\nPreparing to unpack .../3-gnupg-agent_2.2.19-3ubuntu2.2_all.deb ...\nUnpacking gnupg-agent (2.2.19-3ubuntu2.2) ...\nPreparing to unpack .../4-software-properties-common_0.99.9.12_all.deb ...\nUnpacking software-properties-common (0.99.9.12) over (0.99.9.11) ...\nPreparing to unpack .../5-python3-software-properties_0.99.9.12_all.deb ...\nUnpacking python3-software-properties (0.99.9.12) over (0.99.9.11) ...\nSetting up apt-transport-https (2.0.9) ...\nSetting up python3-software-properties (0.99.9.12) ...\nSetting up gnupg-agent (2.2.19-3ubuntu2.2) ...\nSetting up libcurl4:amd64 (7.68.0-1ubuntu2.20) ...\nSetting up curl (7.68.0-1ubuntu2.20) ...\nSetting up software-properties-common (0.99.9.12) ...\nProcessing triggers for libc-bin (2.31-0ubuntu9.9) ...\nProcessing triggers for man-db (2.9.1-1) ...\nProcessing triggers for dbus (1.12.16-2ubuntu2.3) ...\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~# ls\nhello.txt\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~# #######################################################################################################################################################\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~# curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\nOK\nroot@hcss-ecs-32de:~# sudo add-apt-repository \"deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\"\nHit:1 http://repo.huaweicloud.com/ubuntu focal InRelease\nHit:2 http://repo.huaweicloud.com/ubuntu focal-updates InRelease\nHit:3 http://repo.huaweicloud.com/ubuntu focal-backports InRelease\nHit:4 http://repo.huaweicloud.com/ubuntu focal-security InRelease\nGet:5 https://download.docker.com/linux/ubuntu focal InRelease [57.7 kB]\nGet:6 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages [33.7 kB]\nFetched 91.4 kB in 1s (170 kB/s)\nReading package lists... Done\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~#\nroot@hcss-ecs-32de:~# sudo apt update\nHit:1 http://repo.huaweicloud.com/ubuntu focal InRelease\nHit:2 http://repo.huaweicloud.com/ubuntu focal-updates InRelease\nHit:3 http://repo.huaweicloud.com/ubuntu focal-backports InRelease\nHit:4 http://repo.huaweicloud.com/ubuntu focal-security InRelease\nHit:5 https://download.docker.com/linux/ubuntu focal InRelease\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\n56 packages can be upgraded. Run 'apt list --upgradable' to see them.\nroot@hcss-ecs-32de:~# sudo apt install docker-ce docker-ce-cli containerd.io\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\nThe following additional packages will be installed:\n  docker-buildx-plugin docker-ce-rootless-extras docker-compose-plugin pigz slirp4netns\nSuggested packages:\n  aufs-tools cgroupfs-mount | cgroup-lite\nThe following NEW packages will be installed:\n  containerd.io docker-buildx-plugin docker-ce docker-ce-cli docker-ce-rootless-extras docker-compose-plugin pigz slirp4netns\n0 upgraded, 8 newly installed, 0 to remove and 56 not upgraded.\nNeed to get 114 MB of archives.\nAfter this operation, 409 MB of additional disk space will be used.\nDo you want to continue? [Y/n] y\nGet:1 http://repo.huaweicloud.com/ubuntu focal/universe amd64 pigz amd64 2.4-1 [57.4 kB]\nGet:2 http://repo.huaweicloud.com/ubuntu focal/universe amd64 slirp4netns amd64 0.4.3-1 [74.3 kB]\nGet:3 https://download.docker.com/linux/ubuntu focal/stable amd64 containerd.io amd64 1.6.24-1 [28.6 MB]\nGet:4 https://download.docker.com/linux/ubuntu focal/stable amd64 docker-buildx-plugin amd64 0.11.2-1~ubuntu.20.04~focal [28.2 MB]\nGet:5 https://download.docker.com/linux/ubuntu focal/stable amd64 docker-ce-cli amd64 5:24.0.7-1~ubuntu.20.04~focal [13.3 MB]\nGet:6 https://download.docker.com/linux/ubuntu focal/stable amd64 docker-ce amd64 5:24.0.7-1~ubuntu.20.04~focal [22.6 MB]\nGet:7 https://download.docker.com/linux/ubuntu focal/stable amd64 docker-ce-rootless-extras amd64 5:24.0.7-1~ubuntu.20.04~focal [9,037 kB]\nGet:8 https://download.docker.com/linux/ubuntu focal/stable amd64 docker-compose-plugin amd64 2.21.0-1~ubuntu.20.04~focal [11.9 MB]\nFetched 114 MB in 1min 40s (1,140 kB/s)\nSelecting previously unselected package pigz.\n(Reading database ... 116644 files and directories currently installed.)\nPreparing to unpack .../0-pigz_2.4-1_amd64.deb ...\nUnpacking pigz (2.4-1) ...\nSelecting previously unselected package containerd.io.\nPreparing to unpack .../1-containerd.io_1.6.24-1_amd64.deb ...\nUnpacking containerd.io (1.6.24-1) ...\nSelecting previously unselected package docker-buildx-plugin.\nPreparing to unpack .../2-docker-buildx-plugin_0.11.2-1~ubuntu.20.04~focal_amd64.deb ...\nUnpacking docker-buildx-plugin (0.11.2-1~ubuntu.20.04~focal) ...\nSelecting previously unselected package docker-ce-cli.\nPreparing to unpack .../3-docker-ce-cli_5%3a24.0.7-1~ubuntu.20.04~focal_amd64.deb ...\nUnpacking docker-ce-cli (5:24.0.7-1~ubuntu.20.04~focal) ...\nSelecting previously unselected package docker-ce.\nPreparing to unpack .../4-docker-ce_5%3a24.0.7-1~ubuntu.20.04~focal_amd64.deb ...\nUnpacking docker-ce (5:24.0.7-1~ubuntu.20.04~focal) ...\nSelecting previously unselected package docker-ce-rootless-extras.\nPreparing to unpack .../5-docker-ce-rootless-extras_5%3a24.0.7-1~ubuntu.20.04~focal_amd64.deb ...\nUnpacking docker-ce-rootless-extras (5:24.0.7-1~ubuntu.20.04~focal) ...\nSelecting previously unselected package docker-compose-plugin.\nPreparing to unpack .../6-docker-compose-plugin_2.21.0-1~ubuntu.20.04~focal_amd64.deb ...\nUnpacking docker-compose-plugin (2.21.0-1~ubuntu.20.04~focal) ...\nSelecting previously unselected package slirp4netns.\nPreparing to unpack .../7-slirp4netns_0.4.3-1_amd64.deb ...\nUnpacking slirp4netns (0.4.3-1) ...\nSetting up slirp4netns (0.4.3-1) ...\nSetting up docker-buildx-plugin (0.11.2-1~ubuntu.20.04~focal) ...\nSetting up containerd.io (1.6.24-1) ...\nCreated symlink /etc/systemd/system/multi-user.target.wants/containerd.service → /lib/systemd/system/containerd.service.\nSetting up docker-compose-plugin (2.21.0-1~ubuntu.20.04~focal) ...\nSetting up docker-ce-cli (5:24.0.7-1~ubuntu.20.04~focal) ...\nSetting up pigz (2.4-1) ...\nSetting up docker-ce-rootless-extras (5:24.0.7-1~ubuntu.20.04~focal) ...\nSetting up docker-ce (5:24.0.7-1~ubuntu.20.04~focal) ...\nCreated symlink /etc/systemd/system/multi-user.target.wants/docker.service → /lib/systemd/system/docker.service.\nCreated symlink /etc/systemd/system/sockets.target.wants/docker.socket → /lib/systemd/system/docker.socket.\nProcessing triggers for man-db (2.9.1-1) ...\nProcessing triggers for systemd (245.4-4ubuntu3.22) ...\nroot@hcss-ecs-32de:~# docker -v\nDocker version 24.0.7, build afdd53b\nroot@hcss-ecs-32de:~# systemctl start docker\nroot@hcss-ecs-32de:~# docker ps\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\nroot@hcss-ecs-32de:~# systemctl stop docker\nWarning: Stopping docker.service, but it can still be activated by:\n  docker.socket\nroot@hcss-ecs-32de:~#\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241024130745-znvdity","Type":"NodeParagraph","Properties":{"id":"20241024130745-znvdity","updated":"20241024130745"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://zhuanlan.zhihu.com/p/143156163","TextMarkTextContent":"如何在 Ubuntu 20.04 上安装和使用 Docker - 知乎 (zhihu.com)"}]},{"ID":"20241024130746-jb5v5pq","Type":"NodeParagraph","Properties":{"id":"20241024130746-jb5v5pq","updated":"20241102114623"},"Children":[{"Type":"NodeText","Data":"chome里面打开不用登录："},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://www.acwing.com/blog/content/10878/","TextMarkTextContent":"https://www.acwing.com/blog/content/10878/"}]},{"ID":"20241102114620-0uokv2r","Type":"NodeParagraph","Properties":{"id":"20241102114620-0uokv2r","updated":"20241102114620"}}]}