{"ID":"20241031152849-sxvppom","Spec":"1","Type":"NodeDocument","Properties":{"id":"20241031152849-sxvppom","title":"Linux的信号","type":"doc","updated":"20241031152849"},"Children":[{"ID":"20241031152850-p8hgl5m","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20241031152850-p8hgl5m","updated":"20241031152850"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"视频"}]},{"ID":"20241031152851-1pdxh4w","Type":"NodeParagraph","Properties":{"id":"20241031152851-1pdxh4w","updated":"20241031152851"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://www.bilibili.com/video/BV11Z4y157RY/?p=15\u0026share_source=copy_web\u0026vd_source=29909144aff7d2c1451e8d294e9a5437","TextMarkTextContent":"C++网络编程，从0实现Reactor高并发服务器"}]},{"ID":"20241031152852-cksuoyi","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20241031152852-cksuoyi","updated":"20241031152852"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"知识"}]},{"ID":"20241031152853-vnxb681","Type":"NodeParagraph","Properties":{"id":"20241031152853-vnxb681","updated":"20241031152853"},"Children":[{"Type":"NodeText","Data":"在 Linux 中，信号是一种用于进程间通信（IPC）的机制，用来通知进程发生了某种事件。信号本质上是一种软件中断，它可以打断正在执行的程序，使得程序处理特定的条件或事件。每种信号都有一个预定义的编号和名称，不同的信号用于表示不同的事件或状态。"}]},{"ID":"20241031152854-1mmgqxs","Type":"NodeParagraph","Properties":{"id":"20241031152854-1mmgqxs","updated":"20241031152854"},"Children":[{"Type":"NodeText","Data":"以下是一些常见的信号及其用途："}]},{"ID":"20241031152855-fk9m6gz","Type":"NodeList","ListData":{"Typ":1,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20241031152855-fk9m6gz","updated":"20241031152855"},"Children":[{"ID":"20241031152856-1cfhza7","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20241031152856-1cfhza7","updated":"20241031152856"},"Children":[{"ID":"20241031152857-pm8ohcu","Type":"NodeParagraph","Properties":{"id":"20241031152857-pm8ohcu","updated":"20241031152857"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"SIGINT (信号编号 2)"},{"Type":"NodeText","Data":": 由用户在终端按下 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Ctrl + C"},{"Type":"NodeText","Data":" 组合键时发送，用于中断前台运行的进程。"}]}]},{"ID":"20241031152858-tz0esxy","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20241031152858-tz0esxy","updated":"20241031152858"},"Children":[{"ID":"20241031152859-j2gpy91","Type":"NodeParagraph","Properties":{"id":"20241031152859-j2gpy91","updated":"20241031152859"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"SIGTERM (信号编号 15)"},{"Type":"NodeText","Data":": 请求进程终止，可以被捕捉、阻塞或忽略。通常用来友好地请求进程自行退出。"}]}]},{"ID":"20241031152860-7qk7tva","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20241031152860-7qk7tva","updated":"20241031152860"},"Children":[{"ID":"20241031152861-g7l4o6k","Type":"NodeParagraph","Properties":{"id":"20241031152861-g7l4o6k","updated":"20241031152861"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"SIGKILL (信号编号 9)"},{"Type":"NodeText","Data":": 强制终止进程。此信号无法被捕捉或忽略，接收到信号的进程会立即被操作系统终止。"}]}]},{"ID":"20241031152862-jum5ufx","Type":"NodeListItem","Data":"4","ListData":{"Typ":1,"Tight":true,"Start":4,"Delimiter":46,"Padding":3,"Marker":"NA==","Num":4},"Properties":{"id":"20241031152862-jum5ufx","updated":"20241031152862"},"Children":[{"ID":"20241031152863-csnax7r","Type":"NodeParagraph","Properties":{"id":"20241031152863-csnax7r","updated":"20241031152863"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"SIGHUP (信号编号 1)"},{"Type":"NodeText","Data":": 挂起信号，通常在用户退出终端时发送给进程，原本用于通知终端的挂起，现在通常用于告诉进程重新读取配置文件。"}]}]},{"ID":"20241031152864-trstw3y","Type":"NodeListItem","Data":"5","ListData":{"Typ":1,"Tight":true,"Start":5,"Delimiter":46,"Padding":3,"Marker":"NQ==","Num":5},"Properties":{"id":"20241031152864-trstw3y","updated":"20241031152864"},"Children":[{"ID":"20241031152865-satfg95","Type":"NodeParagraph","Properties":{"id":"20241031152865-satfg95","updated":"20241031152865"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"SIGQUIT (信号编号 3)"},{"Type":"NodeText","Data":": 由用户在终端按下 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"Ctrl + \\"},{"Type":"NodeText","Data":" 时发送，通常用于生成进程的核心转储（core dump）并终止进程。"}]}]},{"ID":"20241031152866-zx2zxwh","Type":"NodeListItem","Data":"6","ListData":{"Typ":1,"Tight":true,"Start":6,"Delimiter":46,"Padding":3,"Marker":"Ng==","Num":6},"Properties":{"id":"20241031152866-zx2zxwh","updated":"20241031152866"},"Children":[{"ID":"20241031152867-9pi7zs7","Type":"NodeParagraph","Properties":{"id":"20241031152867-9pi7zs7","updated":"20241031152867"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"SIGALRM (信号编号 14)"},{"Type":"NodeText","Data":": 由 "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"alarm()"},{"Type":"NodeText","Data":" 系统调用在指定时间到达后发送给进程，用于定时操作。"}]}]},{"ID":"20241031152868-tbtb1u8","Type":"NodeListItem","Data":"7","ListData":{"Typ":1,"Tight":true,"Start":7,"Delimiter":46,"Padding":3,"Marker":"Nw==","Num":7},"Properties":{"id":"20241031152868-tbtb1u8","updated":"20241031152868"},"Children":[{"ID":"20241031152869-98wap7s","Type":"NodeParagraph","Properties":{"id":"20241031152869-98wap7s","updated":"20241031152869"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"SIGCHLD (信号编号 17)"},{"Type":"NodeText","Data":": 子进程结束时，发送给父进程，父进程可以通过捕捉这个信号来处理已终止的子进程。"}]}]}]},{"ID":"20241031152870-vhsntnv","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20241031152870-vhsntnv","updated":"20241031152870"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"信号处理"}]},{"ID":"20241031152871-d0yhj8v","Type":"NodeParagraph","Properties":{"id":"20241031152871-d0yhj8v","updated":"20241031152871"},"Children":[{"Type":"NodeText","Data":"进程可以对信号做三种处理："}]},{"ID":"20241031152872-o5e5tb6","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20241031152872-o5e5tb6","updated":"20241031152872"},"Children":[{"ID":"20241031152873-stukwsm","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20241031152873-stukwsm","updated":"20241031152873"},"Children":[{"ID":"20241031152874-smauwqw","Type":"NodeParagraph","Properties":{"id":"20241031152874-smauwqw","updated":"20241031152874"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"忽略信号"},{"Type":"NodeText","Data":": 大部分信号可以被进程设置为忽略。"}]}]},{"ID":"20241031152875-n37io6e","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20241031152875-n37io6e","updated":"20241031152875"},"Children":[{"ID":"20241031152876-ljf9o0c","Type":"NodeParagraph","Properties":{"id":"20241031152876-ljf9o0c","updated":"20241031152876"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"捕捉信号"},{"Type":"NodeText","Data":": 进程可以定义一个信号处理函数，信号到达时执行该函数。"}]}]},{"ID":"20241031152877-270y3r5","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20241031152877-270y3r5","updated":"20241031152877"},"Children":[{"ID":"20241031152878-vttdqtw","Type":"NodeParagraph","Properties":{"id":"20241031152878-vttdqtw","updated":"20241031152878"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"执行默认动作"},{"Type":"NodeText","Data":": 每个信号都有一个默认处理动作，例如终止进程或忽略信号。"}]}]}]},{"ID":"20241031152879-4cfnm0x","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20241031152879-4cfnm0x","updated":"20241031152879"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"### ","Properties":{"id":""}},{"Type":"NodeText","Data":"使用信号的示例"}]},{"ID":"20241031152880-7xdtmut","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241031152880-7xdtmut","updated":"20241031152880"},"Children":[{"ID":"20241031152881-ynwont6","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241031152881-ynwont6","updated":"20241031152881"},"Children":[{"ID":"20241031152882-5s268mt","Type":"NodeParagraph","Properties":{"id":"20241031152882-5s268mt","updated":"20241031152882"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"kill"},{"Type":"NodeText","Data":" 命令：用于向进程发送信号。可以发送各种信号，不仅仅是终止进程的信号。"}]}]}]},{"ID":"20241031152883-wb3aw19","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241031152883-wb3aw19","updated":"20241031152883"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"kill -SIGTERM \u003cPID\u003e\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241031152884-o8g18vi","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241031152884-o8g18vi","updated":"20241031152884"},"Children":[{"ID":"20241031152885-a63wqza","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241031152885-a63wqza","updated":"20241031152885"},"Children":[{"ID":"20241031152886-l6qw10l","Type":"NodeParagraph","Properties":{"id":"20241031152886-l6qw10l","updated":"20241031152886"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"killall"},{"Type":"NodeText","Data":" 命令：向匹配指定名称的所有进程发送信号。"}]}]}]},{"ID":"20241031152887-z8eyxga","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241031152887-z8eyxga","updated":"20241031152887"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"killall -SIGKILL myprogram\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241031152888-r6rgk1z","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241031152888-r6rgk1z","updated":"20241031152888"},"Children":[{"ID":"20241031152889-tv9s4m0","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241031152889-tv9s4m0","updated":"20241031152889"},"Children":[{"ID":"20241031152890-mco5hrb","Type":"NodeParagraph","Properties":{"id":"20241031152890-mco5hrb","updated":"20241031152890"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"trap"},{"Type":"NodeText","Data":" 命令：在 shell 脚本中捕捉信号。"}]}]}]},{"ID":"20241031152891-fnhuesx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"YmFzaA==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241031152891-fnhuesx","updated":"20241031152891"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"trap \"echo 'SIGINT received!'\" SIGINT\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241031152892-z1myicu","Type":"NodeParagraph","Properties":{"id":"20241031152892-z1myicu","updated":"20241031152892"},"Children":[{"Type":"NodeText","Data":"总结来说，信号在 Linux 中是非常重要的，它们用于控制进程的行为和进程间的通信，是系统管理员和开发人员常用的工具。"}]}]}