{"ID":"20241015193257-scu2ywp","Spec":"1","Type":"NodeDocument","Properties":{"id":"20241015193257-scu2ywp","title":"属性有差别的对象构建(User与UserDTO)","type":"doc","updated":"20241015193450"},"Children":[{"ID":"20241031160817-mgaxm2h","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20241031160817-mgaxm2h","updated":"20241031161622"},"Children":[{"Type":"NodeText","Data":"案例一：使用@builder构建对象"}]},{"ID":"20241031161421-ilzwzmd","Type":"NodeParagraph","Properties":{"id":"20241031161421-ilzwzmd","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20241031161516"},"Children":[{"Type":"NodeText","Data":"需要使用lombok，在类前面加"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"@Builder"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​ 注解"}]},{"ID":"20241031160817-cfu5uiq","Type":"NodeParagraph","Properties":{"id":"20241031160817-cfu5uiq","updated":"20241031161329"},"Children":[{"Type":"NodeText","Data":"这样的话也有点麻烦"}]},{"ID":"20241031161223-3or3xs9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241031161223-3or3xs9","updated":"20241031161314"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"// 将Employee类转为EmployeeLoginVO类对象\nEmployee employee = employeeService.login(employeeLoginDTO);\n\nEmployeeLoginVO employeeLoginVO = EmployeeLoginVO.builder()\n        .id(employee.getId())\n        .userName(employee.getUsername())\n        .name(employee.getName())\n        .token(token)\n        .build();\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241031160817-g53um58","Type":"NodeParagraph","Properties":{"id":"20241031160817-g53um58","updated":"20241031161544"},"Children":[{"Type":"NodeText","Data":"需要在类前面加"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Builder"},{"Type":"NodeText","Data":"​注解"}]},{"ID":"20241031161547-eqjoe10","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241031161547-eqjoe10","updated":"20241031161622"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"import io.swagger.annotations.ApiModel;\nimport io.swagger.annotations.ApiModelProperty;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport java.io.Serializable;\n\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@ApiModel(description = \"员工登录返回的数据格式\")\npublic class EmployeeLoginVO implements Serializable {\n\n    @ApiModelProperty(\"主键值\")\n    private Long id;\n\n    @ApiModelProperty(\"用户名\")\n    private String userName;\n\n    @ApiModelProperty(\"姓名\")\n    private String name;\n\n    @ApiModelProperty(\"jwt令牌\")\n    private String token;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241031161531-43m95px","Type":"NodeParagraph","Properties":{"id":"20241031161531-43m95px","updated":"20241031161531"}},{"ID":"20241031160817-ei9rppu","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20241031160817-ei9rppu","updated":"20241015193450"},"Children":[{"Type":"NodeText","Data":"案例二：查询结果封装为DTO"}]},{"ID":"20241031161334-qpucvgb","Type":"NodeParagraph","Properties":{"id":"20241031161334-qpucvgb","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20241031161415"},"Children":[{"Type":"NodeText","Data":"需要使用Hutool工具类"}]},{"ID":"20241015193259-j42cbx1","Type":"NodeParagraph","Properties":{"id":"20241015193259-j42cbx1","updated":"20241015193450"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"style":"width: 1017px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image-20241010165237282"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241010165237282-20241015193348-26d12um.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 1017px;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20241015193260-45pkivt","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241015193260-45pkivt","linewrap":"true","updated":"20241015193260"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"List\u003cUserDTO\u003e userDTOS = userService.query() // 返回的是QueryChainWrapper\u003cUser\u003e\n    .in(\"id\", ids).last(\"ORDER BY FIELD(id,\" + idStr + \")\") // 根据用户id查询用户 WHERE id IN ( 5 , 1 ) ORDER BY FIELD(id, 5, 1)\n    .list() // 返回List\u003cUser\u003e\n    .stream() // 返回Stream\u003cUser\u003e，将结果列表转换为流，以支持后续的流式操作\n    .map(user -\u003e BeanUtil.copyProperties(user, UserDTO.class)) // 返回Stream\u003cUserDTO\u003e\n    .collect(Collectors.toList()); // 将流中的UserDTO对象收集为一个列表\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241015193261-pyeg5k0","Type":"NodeParagraph","Properties":{"id":"20241015193261-pyeg5k0","updated":"20241015193261"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"具体逻辑"}]},{"ID":"20241015193262-jgg4hsq","Type":"NodeList","ListData":{"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241015193262-jgg4hsq","updated":"20241015193262"},"Children":[{"ID":"20241015193263-onsfqyv","Type":"NodeListItem","Data":"-","ListData":{"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241015193263-onsfqyv","updated":"20241015193263"},"Children":[{"ID":"20241015193264-ywfxuhm","Type":"NodeParagraph","Properties":{"id":"20241015193264-ywfxuhm","updated":"20241015193264"},"Children":[{"Type":"NodeText","Data":"这段代码使用了 MyBatis-Plus 进行数据库查询，并处理查询结果，具体步骤如下："}]},{"ID":"20241015193265-1mno7ah","Type":"NodeList","ListData":{"Typ":1,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20241015193265-1mno7ah","updated":"20241015193265"},"Children":[{"ID":"20241015193266-iw0zfnp","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Start":1,"Delimiter":46,"Padding":3,"Marker":"MQ==","Num":1},"Properties":{"id":"20241015193266-iw0zfnp","updated":"20241015193266"},"Children":[{"ID":"20241015193267-vr8i9en","Type":"NodeParagraph","Properties":{"id":"20241015193267-vr8i9en","updated":"20241015193267"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"查询构建"},{"Type":"NodeText","Data":"："}]},{"ID":"20241015193268-d85fwg7","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241015193268-d85fwg7","updated":"20241015193268"},"Children":[{"ID":"20241015193269-et7ozse","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241015193269-et7ozse","updated":"20241015193269"},"Children":[{"ID":"20241015193270-aplkgcf","Type":"NodeParagraph","Properties":{"id":"20241015193270-aplkgcf","updated":"20241015193270"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"userService.query()"},{"Type":"NodeText","Data":"：获取一个查询构建器实例，开始构建查询语句。"}]}]},{"ID":"20241015193271-k8ahxsv","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241015193271-k8ahxsv","updated":"20241015193271"},"Children":[{"ID":"20241015193272-1wjdbg1","Type":"NodeParagraph","Properties":{"id":"20241015193272-1wjdbg1","updated":"20241015193272"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":".in(\u0026quot;id\u0026quot;, ids)"},{"Type":"NodeText","Data":"：添加一个查询条件，筛选出"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"id"},{"Type":"NodeText","Data":"在"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ids"},{"Type":"NodeText","Data":"集合中的记录。"}]}]}]}]},{"ID":"20241015193273-bcyuohc","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":3,"Marker":"Mg==","Num":2},"Properties":{"id":"20241015193273-bcyuohc","updated":"20241015193273"},"Children":[{"ID":"20241015193274-ykw4d0n","Type":"NodeParagraph","Properties":{"id":"20241015193274-ykw4d0n","updated":"20241015193274"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"自定义排序"},{"Type":"NodeText","Data":"："}]},{"ID":"20241015193275-wn0qy6h","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241015193275-wn0qy6h","updated":"20241015193275"},"Children":[{"ID":"20241015193276-psi7u3d","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241015193276-psi7u3d","updated":"20241015193276"},"Children":[{"ID":"20241015193277-4itg1m6","Type":"NodeParagraph","Properties":{"id":"20241015193277-4itg1m6","updated":"20241015193277"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":".last(\u0026quot;ORDER BY FIELD(id,\u0026quot; + idStr + \u0026quot;)\u0026quot;)"},{"Type":"NodeText","Data":"：在查询语句的最后添加自定义的 SQL 片段，"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ORDER BY FIELD(id, ...)"},{"Type":"NodeText","Data":" 是 MySQL 的一种排序方式，这里"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"idStr"},{"Type":"NodeText","Data":"应该是一个用逗号分隔的id字符串。这个排序会按"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"idStr"},{"Type":"NodeText","Data":"中指定的顺序来排序结果。"}]}]}]}]},{"ID":"20241015193278-ut24kyj","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":3,"Marker":"Mw==","Num":3},"Properties":{"id":"20241015193278-ut24kyj","updated":"20241015193278"},"Children":[{"ID":"20241015193279-1kj4oao","Type":"NodeParagraph","Properties":{"id":"20241015193279-1kj4oao","updated":"20241015193279"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"查询执行"},{"Type":"NodeText","Data":"："}]},{"ID":"20241015193280-x4oliil","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241015193280-x4oliil","updated":"20241015193280"},"Children":[{"ID":"20241015193281-mjba9gc","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241015193281-mjba9gc","updated":"20241015193281"},"Children":[{"ID":"20241015193282-imi5se8","Type":"NodeParagraph","Properties":{"id":"20241015193282-imi5se8","updated":"20241015193282"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":".list()"},{"Type":"NodeText","Data":"：执行查询并返回结果列表，结果是一个对象列表，其中每个对象都是数据库中"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"User"},{"Type":"NodeText","Data":"表的记录。"}]}]}]}]},{"ID":"20241015193283-qg56x20","Type":"NodeListItem","Data":"4","ListData":{"Typ":1,"Tight":true,"Start":4,"Delimiter":46,"Padding":3,"Marker":"NA==","Num":4},"Properties":{"id":"20241015193283-qg56x20","updated":"20241015193283"},"Children":[{"ID":"20241015193284-qbh16g8","Type":"NodeParagraph","Properties":{"id":"20241015193284-qbh16g8","updated":"20241015193284"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"结果转换"},{"Type":"NodeText","Data":"："}]},{"ID":"20241015193285-nwhzzb9","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241015193285-nwhzzb9","updated":"20241015193285"},"Children":[{"ID":"20241015193286-bq85v4d","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241015193286-bq85v4d","updated":"20241015193286"},"Children":[{"ID":"20241015193287-4tnaqdu","Type":"NodeParagraph","Properties":{"id":"20241015193287-4tnaqdu","updated":"20241015193287"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":".stream()"},{"Type":"NodeText","Data":"：将结果列表转换为流，以支持后续的流式操作。"}]}]},{"ID":"20241015193288-3zzze42","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241015193288-3zzze42","updated":"20241015193288"},"Children":[{"ID":"20241015193289-ikl96fv","Type":"NodeParagraph","Properties":{"id":"20241015193289-ikl96fv","updated":"20241015193289"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":".map(user -\u0026gt; BeanUtil.copyProperties(user, UserDTO.class))"},{"Type":"NodeText","Data":"：使用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"BeanUtil.copyProperties"},{"Type":"NodeText","Data":"方法，逐个将查询结果中的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"User"},{"Type":"NodeText","Data":"对象转换为"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"UserDTO"},{"Type":"NodeText","Data":"对象。这是对象属性的复制操作，通常用来在不同层之间传递数据。"}]}]}]}]},{"ID":"20241015193290-p7wlpim","Type":"NodeListItem","Data":"5","ListData":{"Typ":1,"Tight":true,"Start":5,"Delimiter":46,"Padding":3,"Marker":"NQ==","Num":5},"Properties":{"id":"20241015193290-p7wlpim","updated":"20241015193290"},"Children":[{"ID":"20241015193291-gd8rfjm","Type":"NodeParagraph","Properties":{"id":"20241015193291-gd8rfjm","updated":"20241015193291"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"strong","TextMarkTextContent":"收集结果"},{"Type":"NodeText","Data":"："}]},{"ID":"20241015193292-3qjjdhd","Type":"NodeList","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241015193292-3qjjdhd","updated":"20241015193292"},"Children":[{"ID":"20241015193293-xiudss9","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241015193293-xiudss9","updated":"20241015193293"},"Children":[{"ID":"20241015193294-fmjskx7","Type":"NodeParagraph","Properties":{"id":"20241015193294-fmjskx7","updated":"20241015193294"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":".collect(Collectors.toList())"},{"Type":"NodeText","Data":"：将流中的"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"UserDTO"},{"Type":"NodeText","Data":"对象收集为一个列表。"}]}]}]}]}]},{"ID":"20241015193295-dyjd6zz","Type":"NodeParagraph","Properties":{"id":"20241015193295-dyjd6zz","updated":"20241015193295"},"Children":[{"Type":"NodeText","Data":"最终，这段代码将从数据库中查询符合条件的用户记录，并将结果转换为一个"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"UserDTO"},{"Type":"NodeText","Data":"对象列表，按指定顺序返回。"}]}]}]},{"ID":"20241016160603-myu46ns","Type":"NodeParagraph","Properties":{"id":"20241016160603-myu46ns","updated":"20241016160603"}},{"ID":"20241015193296-vct1ubo","Type":"NodeParagraph","Properties":{"id":"20241015193296-vct1ubo","updated":"20241016160553"},"Children":[{"Type":"NodeText","Data":"另外解释为什么有"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ORDER BY FIELD"},{"Type":"NodeText","Data":"​"}]},{"ID":"20241015193297-zgv3134","Type":"NodeList","ListData":{"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241015193297-zgv3134","updated":"20241015193297"},"Children":[{"ID":"20241015193298-okrt4da","Type":"NodeListItem","Data":"-","ListData":{"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241015193298-okrt4da","updated":"20241015193298"},"Children":[{"ID":"20241015193299-bbmgfvf","Type":"NodeParagraph","Properties":{"id":"20241015193299-bbmgfvf","updated":"20241015193299"},"Children":[{"Type":"NodeText","Data":"这样一句SQL："}]},{"ID":"20241015193300-bkyn0i7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241015193300-bkyn0i7","updated":"20241015193300"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT id, phone, nick_name\nFROM tb_user\nWHERE id IN (5, 1)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241015193301-c0z5wew","Type":"NodeParagraph","Properties":{"id":"20241015193301-c0z5wew","updated":"20241015193301"},"Children":[{"Type":"NodeText","Data":"查出来的结果确实可以保证"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"id=(5, 1)"},{"Type":"NodeText","Data":"中的元素，但是无法保证顺序"}]},{"ID":"20241015193302-xzice2o","Type":"NodeParagraph","Properties":{"id":"20241015193302-xzice2o","updated":"20241015193302"},"Children":[{"Type":"NodeText","Data":"怎么保证查询出来结果按IN中列举的顺序？使用"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"ORDER BY"},{"Type":"NodeText","Data":"和"},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"FIELD"}]},{"ID":"20241015193303-fhgjs7x","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"c3Fs","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241015193303-fhgjs7x","updated":"20241015193303"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"SELECT id, phone, nick_name\nFROM tb_user\nWHERE id IN (5, 1)\nORDER BY FIELD(id, 5, 1)\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20241015193304-inw4x0a","Type":"NodeParagraph","Properties":{"id":"20241015193304-inw4x0a","updated":"20241015193304"},"Children":[{"Type":"NodeText","Data":"此时需要保证FIELD中的顺序就好"}]}]},{"ID":"20241015193305-knw9ohc","Type":"NodeListItem","Data":"-","ListData":{"Tight":true,"BulletChar":45,"Padding":2,"Marker":"LQ==","Num":-1},"Properties":{"id":"20241015193305-knw9ohc","updated":"20241015193305"},"Children":[{"ID":"20241015193306-azy1xdy","Type":"NodeParagraph","Properties":{"id":"20241015193306-azy1xdy","updated":"20241015193306"},"Children":[{"Type":"NodeText","Data":"这里完整的逻辑："}]},{"ID":"20241015193307-rlqhecc","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"amF2YQ==","CodeBlockCloseFence":"YGBg","Properties":{"id":"20241015193307-rlqhecc","updated":"20241015193307"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ==","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"// 2.解析出其中的用户id\nList\u003cLong\u003e ids = top5.stream().map(Long::valueOf).collect(Collectors.toList());\nString idStr = StrUtil.join(\",\", ids);\n// 3.根据用户id查询用户 WHERE id IN ( 5 , 1 ) ORDER BY FIELD(id, 5, 1)\nList\u003cUserDTO\u003e userDTOS = userService.query()\n    .in(\"id\", ids).last(\"ORDER BY FIELD(id,\" + idStr + \")\").list()\n    .stream()\n    .map(user -\u003e BeanUtil.copyProperties(user, UserDTO.class))\n    .collect(Collectors.toList());\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]}]},{"ID":"20241015193546-xef3jx2","Type":"NodeParagraph","Properties":{"id":"20241015193546-xef3jx2","updated":"20241015193546"}}]}